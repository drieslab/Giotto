<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Giotto">
<title>Image Alignment • Giotto</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/JetBrains_Mono-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Image Alignment">
<meta property="og:description" content="Giotto">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Giotto</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-get-started">Get started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-get-started">
    <a class="dropdown-item" href="../articles/installation.html">Giotto Installation</a>
    <a class="dropdown-item" href="../articles/ecosystem.html">Giotto Ecosystem</a>
    <a class="dropdown-item" href="../articles/configuration.html">Giotto Configuration</a>
    <a class="dropdown-item" href="../articles/object_creation.html">Giotto Object Creation</a>
    <a class="dropdown-item" href="../articles/structure.html">Giotto Class Structure</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Documentation</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <h6 class="dropdown-header" data-toc-skip>Seq-Scope</h6>
    <a class="dropdown-item" href="../articles/seqscope_mouse_liver.html">Mouse liver</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Visium</h6>
    <a class="dropdown-item" href="../articles/visium_mouse_kidney.html">Visium Mouse Kidney</a>
    <a class="dropdown-item" href="../articles/visium_mouse_brain.html">Visium Mouse Brain</a>
    <a class="dropdown-item" href="../articles/visium_prostate_integration.html">Visium Prostate Integration</a>
    <a class="dropdown-item" href="../articles/visium_cytassist_lungcancer.html">CytAssist Human Lung Cancer</a>
    <a class="dropdown-item" href="../articles/visium_cytassist_human_glioblastoma.html">CytAssist Multi-omics Human Glioblastoma</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Spatial Genomics</h6>
    <a class="dropdown-item" href="../articles/spatial_genomics_mouse_kidney.html">Mouse Kidney</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Xenium</h6>
    <a class="dropdown-item" href="../articles/xenium_breast_cancer.html">Xenium Human breast cancer</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Nanostring CosMx</h6>
    <a class="dropdown-item" href="../articles/nanostring_cosmx_lung_cancer.html">Nanostring CosMx Subcellular Lung Cancer</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>MERFISH</h6>
    <a class="dropdown-item" href="../articles/merfish_mouse_hypothalamic.html">MERFISH Mouse Hypothalamic Preoptic Region</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Vizgen</h6>
    <a class="dropdown-item" href="../articles/vizgen_mouse_brain.html">Vizgen Mouse Brain Receptor Map</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>seqFISH</h6>
    <a class="dropdown-item" href="../articles/mini_seqfish.html">mini seqFISH</a>
    <a class="dropdown-item" href="../articles/seqfish_cortex.html">SeqFish+ Mouse Cortex Example</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>osmFISH</h6>
    <a class="dropdown-item" href="../articles/osmfish_mouse_ss_cortex.html">osmFISH Mouse SS Cortex</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Resolve Bioscience</h6>
    <a class="dropdown-item" href="../articles/resolve_biosciences.html">Resolve Bioscience Breast Cancer Subcellular</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>CODEX</h6>
    <a class="dropdown-item" href="../articles/codex_mouse_spleen.html">Codex Mouse Spleen</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Single Cell RNA Sequencing</h6>
    <a class="dropdown-item" href="../articles/singlecell_prostate_standard.html">Prostate</a>
    <a class="dropdown-item" href="../articles/singlecell_prostate_integration.html">Prostate Integration</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tools">Tools</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tools">
    <h6 class="dropdown-header" data-toc-skip>Spatial manipulation</h6>
    <a class="dropdown-item" href="../articles/spatial_transformations.html">Spatial transformations</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Image alignment</h6>
    <a class="dropdown-item" href="../articles/image_alignment.html">Image alignment</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Interactive selection</h6>
    <a class="dropdown-item" href="../articles/interactive_selection.html">Interactive selection</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Visualizations</h6>
    <a class="dropdown-item" href="../articles/visualizations.html">Visualizations</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Saving and Loading</h6>
    <a class="dropdown-item" href="../articles/saving_object.html">Saving a Giotto object</a>
    <a class="dropdown-item" href="../articles/saving_plots.html">Saving plots</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Interoperability</h6>
    <a class="dropdown-item" href="../articles/interoperability_anndata.html">AnnData</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-try-giotto-in-the-cloud">Try Giotto in the Cloud</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-try-giotto-in-the-cloud">
    <a class="dropdown-item" href="../articles/terra.html">Terra.bio</a>
    <a class="dropdown-item" href="../articles/docker.html">Docker</a>
    <div class="dropdown-divider"></div>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/presentations.html">Presentations</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/branches.html">Branches</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/drieslab/Giotto/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Image Alignment</h1>
            
            <h4 data-toc-skip class="date">4/14/23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/drieslab/Giotto/blob/HEAD/vignettes/image_alignment.Rmd" class="external-link"><code>vignettes/image_alignment.Rmd</code></a></small>
      <div class="d-none name"><code>image_alignment.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="giotto-and-image-data">1. Giotto and Image Data<a class="anchor" aria-label="anchor" href="#giotto-and-image-data"></a>
</h2>
<p>Multiple images may be attached to the Giotto object. Spatial data
can be overlaid upon these images which may then be used for downstream
analyses. While Giotto attempts to automate the addition and alignment
of images as much as possible, manual adjustments may sometimes be
necessary. This tutorial will be covering both automatic and manual
adjustment.</p>
<p>The examples in this tutorial will be worked using Visium’s normal
human prostate FFPE <a href="https://www.10xgenomics.com/resources/datasets/normal-human-prostate-ffpe-1-standard-1-3-0" class="external-link">dataset</a>
for both the Visium (automatic) and manual adjustment workflows. A
manual download of this data is required; please see <strong>Visium
Directory Structure Details</strong> below.</p>
<p>For an example of working with high definition images that may
require ROI alignment and or stitching, please see the Nanostring CosMx
lung data <a href="./Nanostring_Lung12_jan26_21.html">analysis</a>.</p>
</div>
<div class="section level2">
<h2 id="start-giotto">2. Start Giotto<a class="anchor" aria-label="anchor" href="#start-giotto"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ensure Giotto Suite is installed</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">"Giotto"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"drieslab/Giotto@suite"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://drieslab.github.io/Giotto/">Giotto</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Ensure Giotto Data is installed</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">"GiottoData"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"drieslab/GiottoData"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://drieslab.github.io/GiottoData/">GiottoData</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Ensure the Python environment for Giotto has been installed</span></span>
<span><span class="va">genv_exists</span> <span class="op">=</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/checkGiottoEnvironment.html">checkGiottoEnvironment</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="va">genv_exists</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># The following command need only be run once to install the Giotto environment</span></span>
<span>  <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/installGiottoEnvironment.html">installGiottoEnvironment</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="conceptual-overview">3. Conceptual Overview<a class="anchor" aria-label="anchor" href="#conceptual-overview"></a>
</h2>
<p>Giotto currently supports two types of image objects. For most
purposes, images are loaded in using <a href="https://rdrr.io/cran/terra/" class="external-link">terra</a> and are then placed into
<strong>giottoLargeImage</strong> objects.
<strong>giottoLargeImage</strong> objects only load in sampled subsets
of the original image that are needed to represent the image, increasing
efficiency for analysis of very high-resolution images.</p>
<p>Alternatively, smaller images are loaded in using the <a href="https://rdrr.io/cran/magick/" class="external-link">magick</a> package and are then
placed into <strong>giottoImage</strong> objects. This offers direct
access to the powerful image processing functionality in the
<em>magick</em> package among other Giotto functions for analysis and
viewing. <strong>giottoLargeImage</strong> objects can be downsampled
into <strong>giottoImage</strong> objects when necessary through use of
the <strong>convertGiottoLargeImageToMG()</strong> function.</p>
<p><strong>More about the giottoImage container</strong></p>
<p><strong>giottoImages</strong> are S4 class objects with slots
containing the image itself and the metadata necessary to plot it
properly. The <strong>magick</strong> package allows easy access to
image processing functions as well as the ability to access images
through pointers, so the images are only loaded into memory when
needed.</p>
<p>Please note that as a result of using pointers to access the image,
<strong>giottoImages</strong> will not be saved between sessions, since
the pointer will die after a given R session is closed. However, the
information used to create the image will be retained within the
<strong>giottoObject</strong> in the <strong>images</strong> slot, as
described below.</p>
<p>When incorporated into a <strong>giottoObject</strong>,
<strong>giottoImages</strong> are added into the <strong>images</strong>
slot of the <strong>giottoObject</strong>. The <strong>images</strong>
slot is organized as a <strong>list()</strong> so multiple
<strong>giottoImages</strong> may be added and then referred to
individually using the <strong>name</strong> which they have been
given.</p>
<p><strong>giottoImage Structure</strong></p>
<ul>
<li>name - <em>name of the giottoImage, does not need to match the name
of the variable which stores the giotto image. Default is
‘image’.</em>
</li>
<li>mg_object - <em>image loaded in as magick object (pointer)</em>
</li>
<li>minmax - <em>x and y minimum and maximum values found from spatial
locations</em>
</li>
<li>boundaries - <em>adjustment values for stretching the image based on
minmax values</em>
</li>
<li>scale_factor - <em>scale factor of spatial locations to
image</em>
</li>
<li>resolution - <em>spatial location units covered per pixel</em>
</li>
<li>OS_platform - <em>computer environment</em>
</li>
</ul>
<p>*Note that <strong>minmax</strong> refers to the relevant values of
the associated spatial locations rather than those of the image. These
values are given either by providing spatial locations directly when
calling <strong>createGiottoImage()</strong> or in later steps that
involve a <strong>giottoObjects</strong> with associated spatial
locations.</p>
<p>For maximum flexibility, Giotto plots images and spatial data on
different layers that are largely independent of each other. The spatial
data is plotted first, essentially serving as an anchor <strong>(xmin,
xmax, ymin, ymax)</strong>. The image, no matter its actual dimensions
or resolution, is then <strong>stretched</strong> to fit on the plot
according to accompanying metadata <strong>(xmin_adj, xmax_adj,
ymin_adj, ymax_adj)</strong> which can be edited by the user.</p>
<p><img src="images/image_alignment/images_adjust.png"></p>
<p>Calling the <strong>giottoImage</strong> by itself will display its
class and name, followed the values that occupy its minmax, boundary
adjustment, scale_factor, and resolution slots. The actual image
boundaries are displayed as spatial values, which detail the points to
which the image’s edges will be stretched.</p>
<p>Most spatial datasets currently generate spatial locations based on
how they map onto an original image. Although this brief explanation is
somewhat simplified, Giotto’s automatic alignment works as follows:</p>
<ul>
<li>Scale image dimensions to original dimensions by dividing by the
<strong>scaling_factor</strong>
</li>
<li>
<strong>xmin_adj</strong> = (spatial location xmin) - 0</li>
<li>
<strong>xmax_adj</strong> = (xmax image bound in original
dimensions) - (spatial location xmax)</li>
<li>
<strong>ymin_adj</strong> = (spatial location ymin) - (ymin image
bound in original dimensions)</li>
<li>
<strong>ymax_adj</strong> = 0 - (spatial location ymax)</li>
</ul>
<p>For instance, assume a <strong>giottoImage</strong> object named
GImage has already been created:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">GImage</span></span>
<span></span>
<span><span class="co">## R TERMINAL OUTPUT:</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># An object of class ' giottoImage ' with name  image </span></span>
<span><span class="co">#  </span></span>
<span><span class="co"># Min and max values are: </span></span>
<span><span class="co">#  Max on x-axis:  23520 </span></span>
<span><span class="co">#  Min on x-axis:  5066 </span></span>
<span><span class="co">#  Max on y-axis:  -3682 </span></span>
<span><span class="co">#  Min on y-axis:  -23148 </span></span>
<span><span class="co">#  </span></span>
<span><span class="co"># Boundary adjustment are: </span></span>
<span><span class="co">#  Max adjustment on x-axis:  3949.001 </span></span>
<span><span class="co">#  Min adjustment on x-axis:  5066 </span></span>
<span><span class="co">#  Max adjustment on y-axis:  3682 </span></span>
<span><span class="co">#  Min adjustment on y-axis:  2082.277 </span></span>
<span><span class="co">#  </span></span>
<span><span class="co"># Boundaries are: </span></span>
<span><span class="co">#  Image x-axis max boundary:  27469 </span></span>
<span><span class="co">#  Image x-axis min boundary:  0 </span></span>
<span><span class="co">#  Image y-axis max boundary:  0 </span></span>
<span><span class="co">#  Image y-axis min boundary:  -25230.28 </span></span>
<span><span class="co">#</span></span>
<span><span class="co"># Scale factor: </span></span>
<span><span class="co">#          x          y </span></span>
<span><span class="co"># 0.07280935 0.07280935 </span></span>
<span><span class="co"># </span></span>
<span><span class="co">#  Resolution: </span></span>
<span><span class="co">#        x        y </span></span>
<span><span class="co">#  13.7345  13.7345 </span></span>
<span><span class="co">#</span></span>
<span><span class="co"># File Path: </span></span>
<span><span class="co"># [1] "/path/to/directory/tissue_image.png"</span></span></code></pre></div>
<p>Further intuition for defining these parameters in this way is
detailed within the <strong>Why this inversion is necessary</strong>
dropdown text beneath Standard workflow.</p>
</div>
<div class="section level2">
<h2 id="visium-workflow-automated">4. Visium Workflow (Automated):<a class="anchor" aria-label="anchor" href="#visium-workflow-automated"></a>
</h2>
<p>Assembly of Giotto object as well as the reading in and alignment of
the tissue staining image from the Visium spatial subdirectory is done
automatically using <strong>createGiottoVisiumObject()</strong>.</p>
<p>Note that in order to run the following code, the Output Files
“Feature barcode matrix (raw)” and “Spatial imaging data” from the <a href="https://www.10xgenomics.com/resources/datasets/normal-human-prostate-ffpe-1-standard-1-3-0" class="external-link">dataset</a>
must be downloaded and extracted into a structured Visium directory.</p>
<p><strong>Visium Directory Structure Details</strong></p>
<p>Here, details on how to structure the Visium Directory for creating a
Giotto object using <strong>createGiottoVisiumObject()</strong> for the
purposes of this tutorial will be shown. Nonetheless, this procedure is
standard practice for using Giotto with Visium Data.</p>
<p>First create a new directory. This will be the Visium Directory.
Then, open a terminal within that directory, and enter the following
commands:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">wget</span> https://cf.10xgenomics.com/samples/spatial-exp/1.3.0/Visium_FFPE_Human_Normal_Prostate/Visium_FFPE_Human_Normal_Prostate_raw_feature_bc_matrix.tar.gz</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">tar</span> <span class="at">-xzvf</span> Visium_FFPE_Human_Normal_Prostate_raw_feature_bc_matrix.tar.gz</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">wget</span> https://cf.10xgenomics.com/samples/spatial-exp/1.3.0/Visium_FFPE_Human_Normal_Prostate/Visium_FFPE_Human_Normal_Prostate_spatial.tar.gz</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="fu">tar</span> <span class="at">-xzvf</span> Visium_FFPE_Human_Normal_Prostate_spatial.tar.gz</span></code></pre></div>
<p>This will create two subdirectories within the Visium Directory,
titled “raw_feature_bc_matrix” and “spatial”. These subdirectories will
contain barcode and expression information, or images and scaling
information, respectively. Now, the Visium Directory may be inputted to
<strong>createGiottoVisiumObject()</strong>!</p>
<p>A giotto object using either the hires or lowres image will be loaded
depending on whether “<strong>tissue_hires_image.png”</strong> or
<strong>“tissue_lowres_image.png”</strong> is provided to the
<strong>png_name</strong> argument. In this example, the hires image
will be plotted.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://drieslab.github.io/Giotto/">Giotto</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://drieslab.github.io/GiottoData/">GiottoData</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">VisiumDir</span> <span class="op">=</span> <span class="st">'/path/to/visium/directory/'</span></span>
<span><span class="va">results_directory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">'/gobject_imaging_results/'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Optional: Specify a path to a Python executable within a conda or miniconda</span></span>
<span><span class="co"># environment. If set to NULL (default), the Python executable within the previously</span></span>
<span><span class="co"># installed Giotto environment will be used.</span></span>
<span><span class="va">my_python_path</span> <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># alternatively, "/local/python/path/python" if desired.</span></span>
<span></span>
<span><span class="co"># Optional: Set Giotto instructions</span></span>
<span><span class="va">instrs</span> <span class="op">=</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/createGiottoInstructions.html">createGiottoInstructions</a></span><span class="op">(</span>save_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                  show_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                  save_dir <span class="op">=</span> <span class="va">results_directory</span>,</span>
<span>                                  python_path <span class="op">=</span> <span class="va">my_python_path</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a Giotto Object using Visium Data</span></span>
<span><span class="va">FFPE_prostate</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createGiottoVisiumObject.html">createGiottoVisiumObject</a></span><span class="op">(</span>expr_data <span class="op">=</span> <span class="st">'raw'</span>,</span>
<span>                                          visium_dir <span class="op">=</span> <span class="va">VisiumDir</span>,</span>
<span>                                          png_name <span class="op">=</span> <span class="st">"tissue_hires_image.png"</span>,</span>
<span>                                          instructions <span class="op">=</span> <span class="va">instrs</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># visualize spots that are in tissue</span></span>
<span><span class="fu"><a href="https://drieslab.github.io/Giotto/reference/spatPlot.html">spatPlot2D</a></span><span class="op">(</span><span class="va">FFPE_prostate</span>,</span>
<span>           show_image <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           cell_color <span class="op">=</span> <span class="st">'in_tissue'</span>,</span>
<span>           save_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>save_name <span class="op">=</span> <span class="st">'high_res_IT'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/image_alignment/unnamed-chunk-6-1.png"></p>
</div>
<div class="section level2">
<h2 id="standard-workflow">5. Standard Workflow<a class="anchor" aria-label="anchor" href="#standard-workflow"></a>
</h2>
<div class="section level3">
<h3 id="invert-y-values">5.1 Invert Y-Values<a class="anchor" aria-label="anchor" href="#invert-y-values"></a>
</h3>
<p>Before beginning, it is important to acknowledge that differences may
exist in the conventions for defining coordinates within images and
plots. As a result, it is often required to make the spatial location y
values negative. This inversion is necessary for the spatial locations
to appear in the same orientation as the image. This transformation of
the spatial locations is automatically done for Visium datasets during
<strong>createGiottoVisiumObject()</strong>. In the standard workflow,
it is important to determine if this is necessary for the data at
hand.</p>
<p><strong>Why this inversion is necessary</strong></p>
<p><strong>Image Coordinates vs Plotting Coordinates</strong> By
convention, the origin of image coordinates is defined in the upper
left, and coordinates increase rightward (x coordinate) and downward (y
coordinate). Many spatial methods inherit this convention when
generating spatial location data. However, Giotto plots with the
coordinates originating from the lower left. Thus, without inversion of
the y coordinates, the <strong>spatial locations are displayed as
vertically flipped compared to how they are intended to be
seen</strong>.</p>
<p><img src="images/image_alignment/images_coord_diffs.png"></p>
<p><strong>The fix for this is to multiply all the Y-values in spatial
locations by -1, inverting them.</strong> This may be done prior to
creation of the giotto object by multiplying the y values within the
spatial location matrix by -1. If the giotto object has already been
created, yet the spatial data still needs inversion, running the
following commands will invert the y coordinates.</p>
<p>Here, my_gobject refers to the <strong>giottoObject</strong> and
my_spatlocs refers to the name of the <strong>spatial locations</strong>
to which the image will be aligned.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve original spatial location data as a spatLocObj</span></span>
<span><span class="va">spatlocs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/getSpatialLocations.html">getSpatialLocations</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">my_gobject</span>,</span>
<span>                                spat_loc_name <span class="op">=</span> <span class="va">my_spatlocs</span>,</span>
<span>                                output <span class="op">=</span> <span class="st">'spatLocsObj'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">spatlocs</span><span class="op">[</span><span class="op">]</span><span class="op">$</span><span class="va">sdimy</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">spatlocs</span><span class="op">[</span><span class="op">]</span><span class="op">$</span><span class="va">sdimy</span> <span class="co"># Note the negative sign operator for inversion</span></span>
<span></span>
<span><span class="co"># Overwrite the original spatial locations with the inverted ones</span></span>
<span><span class="va">my_gobject</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/setSpatialLocations.html">setSpatialLocations</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">my_gobject</span>,</span>
<span>                                  spat_loc_name <span class="op">=</span> <span class="va">my_spatlocs</span>,</span>
<span>                                  spatlocs <span class="op">=</span> <span class="va">spatlocs</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/image_alignment/images_inverty.png"></p>
</div>
<div class="section level3">
<h3 id="create-giottoimage">5.2 Create giottoImage<a class="anchor" aria-label="anchor" href="#create-giottoimage"></a>
</h3>
<p>giottoImages are created using the
<strong>createGiottoImage()</strong> function. This function requires a
<strong>magick</strong>-compatible image (eg. jpg, tiff, png) to be
provided to the <strong>mg_object</strong> argument as either a filepath
or a <strong>magick</strong> object.</p>
<p>If automatic image alignment is desired, the
<strong>scale_factor</strong> parameter is required, which scales the
spatial locations to the image. <em>This parameter is required since
spatial locations do not contain information about the size of the image
is past the spatial xmax and ymin values. Those two image bounds are
instead inferred by scaling up the current image dimensions to those of
the spatial locations.</em></p>
<p>For Visium datasets, scaling information is available in the
<strong>scalefactors_json.json</strong> file found within the
<strong>spatial</strong> subdirectory.</p>
<p><strong>scalefactors_json.json</strong> for this <a href="https://www.10xgenomics.com/resources/datasets/normal-human-prostate-ffpe-1-standard-1-3-0" class="external-link">dataset</a>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>{<span class="st">"tissue_hires_scalef"</span><span class="sc">:</span> <span class="fl">0.072809346</span>, <span class="st">"tissue_lowres_scalef"</span><span class="sc">:</span> <span class="fl">0.021842804</span>, <span class="st">"fiducial_diameter_fullres"</span><span class="sc">:</span> <span class="fl">304.63145798068047</span>, <span class="st">"spot_diameter_fullres"</span><span class="sc">:</span> <span class="fl">188.58137874994503</span>}</span></code></pre></div>
<p>Providing the appropriate factor to the <strong>scale_factor</strong>
parameter will result in automatic alignment.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lowResPath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">VisiumDir</span>,<span class="st">"Spatial/tissue_lowres_image.png"</span><span class="op">)</span></span>
<span><span class="va">lowResG_img</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/createGiottoImage.html">createGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>                                 mg_object <span class="op">=</span> <span class="va">lowResPath</span>,</span>
<span>                                 name <span class="op">=</span> <span class="st">"low_res"</span>,</span>
<span>                                 scale_factor <span class="op">=</span> <span class="fl">0.021842804</span><span class="op">)</span></span></code></pre></div>
<p>Alignment values:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lowResG_img</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>    An object of class <span class="st">' giottoImage '</span> with name  low_res </span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    Min and max values are<span class="sc">:</span> </span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>     Max on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">23520</span> </span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>     Min on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">5066</span> </span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>     Max on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="sc">-</span><span class="dv">3682</span> </span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>     Min on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="sc">-</span><span class="dv">23148</span> </span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>    Boundary adjustment are<span class="sc">:</span> </span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>     Max adjustment on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="fl">3949.001</span> </span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>     Min adjustment on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">5066</span> </span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>     Max adjustment on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">3682</span> </span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>     Min adjustment on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="fl">2077.699</span> </span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>    Boundaries are<span class="sc">:</span> </span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>     Image x<span class="sc">-</span>axis max boundary<span class="sc">:</span>  <span class="dv">27469</span> </span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>     Image x<span class="sc">-</span>axis min boundary<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>     Image y<span class="sc">-</span>axis max boundary<span class="sc">:</span>  <span class="fl">4.547474e-13</span> </span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>     Image y<span class="sc">-</span>axis min boundary<span class="sc">:</span>  <span class="sc">-</span><span class="fl">25225.7</span> </span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>    Scale factor<span class="sc">:</span> </span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a>            x         y </span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>    <span class="fl">0.0218428</span> <span class="fl">0.0218428</span> </span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>     Resolution<span class="sc">:</span> </span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>           x        y </span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>    <span class="fl">45.78167</span> <span class="fl">45.78167</span> </span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a>     File Path<span class="sc">:</span> </span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a>    [<span class="dv">1</span>] <span class="st">"~/Visium_FFPE_Human_Normal_Prostate/Spatial/tissue_lowres_image.png"</span></span></code></pre></div>
<p><strong>Without spatial locations</strong></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lowResG_img_no_locs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/createGiottoImage.html">createGiottoImage</a></span><span class="op">(</span>mg_object <span class="op">=</span> <span class="va">lowResPath</span>,</span>
<span>                                         name <span class="op">=</span> <span class="st">"low_res_no_locs"</span>,</span>
<span>                                         scale_factor <span class="op">=</span> <span class="fl">0.021842804</span><span class="op">)</span></span></code></pre></div>
<p>Alignment values:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lowResG_img_no_locs</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>    An object of class <span class="st">' giottoImage '</span> with name  low_res_no_locs </span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>    Min and max values are<span class="sc">:</span> </span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>     Max on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">10</span> </span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>     Min on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>     Max on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">10</span> </span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>     Min on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>    Boundary adjustment are<span class="sc">:</span> </span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>     Max adjustment on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>     Min adjustment on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>     Max adjustment on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>     Min adjustment on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>    Boundaries are<span class="sc">:</span> </span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a>     Image x<span class="sc">-</span>axis max boundary<span class="sc">:</span>  <span class="dv">10</span> </span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a>     Image x<span class="sc">-</span>axis min boundary<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a>     Image y<span class="sc">-</span>axis max boundary<span class="sc">:</span>  <span class="dv">10</span> </span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a>     Image y<span class="sc">-</span>axis min boundary<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a>    Scale factor<span class="sc">:</span> </span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a>            x         y </span>
<span id="cb14-23"><a href="#cb14-23" tabindex="-1"></a>    <span class="fl">0.0218428</span> <span class="fl">0.0218428</span> </span>
<span id="cb14-24"><a href="#cb14-24" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" tabindex="-1"></a>     Resolution<span class="sc">:</span> </span>
<span id="cb14-26"><a href="#cb14-26" tabindex="-1"></a>           x        y </span>
<span id="cb14-27"><a href="#cb14-27" tabindex="-1"></a>    <span class="fl">45.78167</span> <span class="fl">45.78167</span> </span>
<span id="cb14-28"><a href="#cb14-28" tabindex="-1"></a></span>
<span id="cb14-29"><a href="#cb14-29" tabindex="-1"></a>     File Path<span class="sc">:</span> </span>
<span id="cb14-30"><a href="#cb14-30" tabindex="-1"></a>    [<span class="dv">1</span>] <span class="st">"~/Visium_FFPE_Human_Normal_Prostate/Spatial/tissue_lowres_image.png"</span></span></code></pre></div>
<p><em>Note that only default values are given to minmax and boundaries
in this case.</em></p>
<p>(<strong>Optional</strong>) Providing spatial location information
through either of the <strong>gobject</strong> parameters
<strong>spat_loc_name</strong> or <strong>spatial_locs</strong> will
populate the minmax and boundary slots in an attempt to auto-align the
image with the spatial locations. The auto-alignment can be bypassed by
using <strong>do_manual_adj = TRUE</strong> and only the minmax slot
will be populated.</p>
<p><strong>With spatial locations, but also with do_manual_adj =
TRUE</strong></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lowResG_img_manual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/createGiottoImage.html">createGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>                                        mg_object <span class="op">=</span> <span class="va">lowResPath</span>,</span>
<span>                                        name <span class="op">=</span> <span class="st">"low_res_manual"</span>,</span>
<span>                                        do_manual_adj <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                        xmin_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                        xmax_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                        ymin_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                        ymax_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                        scale_factor <span class="op">=</span> <span class="fl">0.021842804</span><span class="op">)</span></span></code></pre></div>
<p>Alignment values:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lowResG_img_manual</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>    An object of class <span class="st">' giottoImage '</span> with name  low_res_manual </span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>    Min and max values are<span class="sc">:</span> </span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>     Max on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">23520</span> </span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>     Min on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">5066</span> </span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>     Max on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="sc">-</span><span class="dv">3682</span> </span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>     Min on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="sc">-</span><span class="dv">23148</span> </span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>    Boundary adjustment are<span class="sc">:</span> </span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a>     Max adjustment on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a>     Min adjustment on x<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>     Max adjustment on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a>     Min adjustment on y<span class="sc">-</span>axis<span class="sc">:</span>  <span class="dv">0</span> </span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a>    Boundaries are<span class="sc">:</span> </span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a>     Image x<span class="sc">-</span>axis max boundary<span class="sc">:</span>  <span class="dv">23520</span> </span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a>     Image x<span class="sc">-</span>axis min boundary<span class="sc">:</span>  <span class="dv">5066</span> </span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a>     Image y<span class="sc">-</span>axis max boundary<span class="sc">:</span>  <span class="sc">-</span><span class="dv">3682</span> </span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a>     Image y<span class="sc">-</span>axis min boundary<span class="sc">:</span>  <span class="sc">-</span><span class="dv">23148</span> </span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a>    Scale factor<span class="sc">:</span> </span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a>            x         y </span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a>    <span class="fl">0.0218428</span> <span class="fl">0.0218428</span> </span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" tabindex="-1"></a>     Resolution<span class="sc">:</span> </span>
<span id="cb17-26"><a href="#cb17-26" tabindex="-1"></a>           x        y </span>
<span id="cb17-27"><a href="#cb17-27" tabindex="-1"></a>    <span class="fl">45.78167</span> <span class="fl">45.78167</span> </span>
<span id="cb17-28"><a href="#cb17-28" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" tabindex="-1"></a>     File Path<span class="sc">:</span> </span>
<span id="cb17-30"><a href="#cb17-30" tabindex="-1"></a>    [<span class="dv">1</span>] <span class="st">"~/Visium_FFPE_Human_Normal_Prostate/Spatial/tissue_lowres_image.png"</span></span></code></pre></div>
<p><em>When</em> <strong>do_manual_adj = TRUE</strong><em>, automatic
alignment is bypassed in favor of the four manual adjustment
values.</em> <em>These values (Boundary adjustment) default to
0.</em></p>
</div>
<div class="section level3">
<h3 id="add-giottoimage-to-giottoobject-and-visualize">5.3 Add giottoImage to giottoObject and Visualize<a class="anchor" aria-label="anchor" href="#add-giottoimage-to-giottoobject-and-visualize"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Since lowResG_img_no_locs is not associated with the gobject FFPE_prostate, it</span></span>
<span><span class="co"># may not be added to the gobject.</span></span>
<span><span class="va">FFPE_prostate</span> <span class="op">=</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/addGiottoImage.html">addGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>, </span>
<span>                              images <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lowResG_img</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://drieslab.github.io/Giotto/reference/spatPlot.html">spatPlot2D</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>          show_image <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          image_name <span class="op">=</span> <span class="st">"low_res"</span>,</span>
<span>          cell_color <span class="op">=</span> <span class="st">"in_tissue"</span>,</span>
<span>          save_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>save_name <span class="op">=</span> <span class="st">'low_res_IT'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/image_alignment/unnamed-chunk-15-1.png"></p>
</div>
</div>
<div class="section level2">
<h2 id="manual-adjustment">6. Manual Adjustment<a class="anchor" aria-label="anchor" href="#manual-adjustment"></a>
</h2>
<p>Manually adjusting the plotting of images comes either during
<strong>createGiottoImage()</strong> using <strong>do_manual_adj =
TRUE</strong> and the four adjustment values <strong>(xmin_adj,
xmax_adj, ymin_adj, ymax_adj)</strong> or after
<strong>giottoImage</strong> creation using
<strong>updateGiottoImage()</strong>.</p>
<p>This method is performed by eye and may be necessary depending on
preference or if despite accounting for scaling, the image coordinates
do not match up with the spatial coordinates for some reason.</p>
<div class="section level3">
<h3 id="during-giottoimage-creation">6.1 During giottoImage creation<a class="anchor" aria-label="anchor" href="#during-giottoimage-creation"></a>
</h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># createGiottoImage with manually defined adjustment values</span></span>
<span><span class="va">lowResG_img_update_manual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/createGiottoImage.html">createGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>                                               mg_object <span class="op">=</span> <span class="va">lowResPath</span>, </span>
<span>                                               name <span class="op">=</span> <span class="st">"low_res_update_manual"</span>,</span>
<span>                                               do_manual_adj <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                               xmin_adj <span class="op">=</span> <span class="fl">5066</span>,</span>
<span>                                               xmax_adj <span class="op">=</span> <span class="fl">3949</span>,</span>
<span>                                               ymin_adj <span class="op">=</span> <span class="fl">2078</span>,</span>
<span>                                               ymax_adj <span class="op">=</span> <span class="fl">3682</span>,</span>
<span>                                               scale_factor <span class="op">=</span> <span class="fl">0.021842804</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FFPE_prostate</span> <span class="op">=</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/addGiottoImage.html">addGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>, </span>
<span>                               images <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lowResG_img_update_manual</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://drieslab.github.io/Giotto/reference/spatPlot.html">spatPlot2D</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>           show_image <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           image_name <span class="op">=</span> <span class="st">"low_res_update_manual"</span>,</span>
<span>           cell_color <span class="op">=</span> <span class="st">"in_tissue"</span>,</span>
<span>           save_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>save_name <span class="op">=</span> <span class="st">'low_res_update_manual_IT'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/image_alignment/unnamed-chunk-16-1.png"></p>
</div>
<div class="section level3">
<h3 id="after-giottoimage-creation-within-the-giottoobject">6.2 After giottoImage creation, within the giottoObject<a class="anchor" aria-label="anchor" href="#after-giottoimage-creation-within-the-giottoobject"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># createGiottoImage with manually defined adjustment values</span></span>
<span><span class="va">lowResG_img_to_update</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/createGiottoImage.html">createGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>                                           mg_object <span class="op">=</span> <span class="va">lowResPath</span>,</span>
<span>                                           name <span class="op">=</span> <span class="st">"low_res_to_update"</span>,</span>
<span>                                           do_manual_adj <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                           xmin_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                           xmax_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                           ymin_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                           ymax_adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                           scale_factor <span class="op">=</span> <span class="fl">0.021842804</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FFPE_prostate</span> <span class="op">=</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/addGiottoImage.html">addGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>, </span>
<span>                               images <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lowResG_img_to_update</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://drieslab.github.io/Giotto/reference/spatPlot.html">spatPlot2D</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>           show_image <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           image_name <span class="op">=</span> <span class="st">"low_res_to_update"</span>,</span>
<span>           cell_color <span class="op">=</span> <span class="st">"in_tissue"</span>,</span>
<span>           save_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>save_name <span class="op">=</span> <span class="st">'low_res_before_update_IT'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/image_alignment/unnamed-chunk-17-1.png"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use updateGiottoImage() to update the image adjustment values</span></span>
<span><span class="va">FFPE_prostate</span> <span class="op">=</span> <span class="fu"><a href="https://drieslab.github.io/GiottoClass/reference/updateGiottoImage.html">updateGiottoImage</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>                                  image_name <span class="op">=</span> <span class="st">"low_res_to_update"</span>,</span>
<span>                                  xmin_adj <span class="op">=</span> <span class="fl">5066</span>,</span>
<span>                                  xmax_adj <span class="op">=</span> <span class="fl">3949</span>,</span>
<span>                                  ymin_adj <span class="op">=</span> <span class="fl">2078</span>,</span>
<span>                                  ymax_adj <span class="op">=</span> <span class="fl">3682</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://drieslab.github.io/Giotto/reference/spatPlot.html">spatPlot2D</a></span><span class="op">(</span>gobject <span class="op">=</span> <span class="va">FFPE_prostate</span>,</span>
<span>           show_image <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           image_name <span class="op">=</span> <span class="st">"low_res_to_update"</span>,</span>
<span>           cell_color <span class="op">=</span> <span class="st">"in_tissue"</span>,</span>
<span>           save_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>save_name <span class="op">=</span> <span class="st">'low_res_after_update_IT'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/image_alignment/unnamed-chunk-18-1.png"></p>
</div>
</div>
<div class="section level2">
<h2 id="session-info">7. Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>    R version <span class="dv">4</span>.<span class="fl">2.2</span> (<span class="dv">2022-10-31</span> ucrt)</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>    Platform<span class="sc">:</span> x86_64<span class="sc">-</span>w64<span class="sc">-</span>mingw32<span class="sc">/</span><span class="fu">x64</span> (<span class="dv">64</span><span class="sc">-</span>bit)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>    Running under<span class="sc">:</span> Windows <span class="dv">10</span> <span class="fu">x64</span> (build <span class="dv">22621</span>)</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>    Matrix products<span class="sc">:</span> default</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>    locale<span class="sc">:</span></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>    [<span class="dv">1</span>] LC_COLLATE<span class="ot">=</span>English_United States.utf8 </span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>    [<span class="dv">2</span>] LC_CTYPE<span class="ot">=</span>English_United States.utf8   </span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>    [<span class="dv">3</span>] LC_MONETARY<span class="ot">=</span>English_United States.utf8</span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>    [<span class="dv">4</span>] LC_NUMERIC<span class="ot">=</span>C                          </span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a>    [<span class="dv">5</span>] LC_TIME<span class="ot">=</span>English_United States.utf8    </span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a>    attached base packages<span class="sc">:</span></span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a>    [<span class="dv">1</span>] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span id="cb25-16"><a href="#cb25-16" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" tabindex="-1"></a>    other attached packages<span class="sc">:</span></span>
<span id="cb25-18"><a href="#cb25-18" tabindex="-1"></a>    [<span class="dv">1</span>] GiottoData_0.<span class="fl">1.0</span> Giotto_3.<span class="fl">2.1</span>    </span>
<span id="cb25-19"><a href="#cb25-19" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" tabindex="-1"></a>    loaded via a <span class="fu">namespace</span> (and not attached)<span class="sc">:</span></span>
<span id="cb25-21"><a href="#cb25-21" tabindex="-1"></a>     [<span class="dv">1</span>] reticulate_1<span class="fl">.26</span>    tidyselect_1.<span class="fl">2.0</span>   terra_1<span class="fl">.7</span><span class="dv">-18</span>       xfun_0<span class="fl">.38</span>         </span>
<span id="cb25-22"><a href="#cb25-22" tabindex="-1"></a>     [<span class="dv">5</span>] lattice_0<span class="fl">.20</span><span class="dv">-45</span>    colorspace_2<span class="fl">.1</span><span class="dv">-0</span>   vctrs_0.<span class="fl">6.1</span>        generics_0.<span class="fl">1.3</span>    </span>
<span id="cb25-23"><a href="#cb25-23" tabindex="-1"></a>     [<span class="dv">9</span>] htmltools_0.<span class="fl">5.4</span>    yaml_2.<span class="fl">3.7</span>         utf8_1.<span class="fl">2.3</span>         rlang_1.<span class="fl">1.0</span>       </span>
<span id="cb25-24"><a href="#cb25-24" tabindex="-1"></a>    [<span class="dv">13</span>] R.oo_1.<span class="fl">25.0</span>        pillar_1.<span class="fl">9.0</span>       glue_1.<span class="fl">6.2</span>         withr_2.<span class="fl">5.0</span>       </span>
<span id="cb25-25"><a href="#cb25-25" tabindex="-1"></a>    [<span class="dv">17</span>] R.utils_2.<span class="fl">12.2</span>     rappdirs_0.<span class="fl">3.3</span>     RColorBrewer_1<span class="fl">.1</span><span class="dv">-3</span> lifecycle_1.<span class="fl">0.3</span>   </span>
<span id="cb25-26"><a href="#cb25-26" tabindex="-1"></a>    [<span class="dv">21</span>] munsell_0.<span class="fl">5.0</span>      gtable_0.<span class="fl">3.3</span>       ragg_1.<span class="fl">2.4</span>         R.methodsS3_1.<span class="fl">8.2</span> </span>
<span id="cb25-27"><a href="#cb25-27" tabindex="-1"></a>    [<span class="dv">25</span>] codetools_0<span class="fl">.2</span><span class="dv">-18</span>   evaluate_0<span class="fl">.20</span>      labeling_0.<span class="fl">4.2</span>     knitr_1<span class="fl">.42</span>        </span>
<span id="cb25-28"><a href="#cb25-28" tabindex="-1"></a>    [<span class="dv">29</span>] fastmap_1.<span class="fl">1.0</span>      parallel_4.<span class="fl">2.2</span>     fansi_1.<span class="fl">0.4</span>        Rcpp_1.<span class="fl">0.10</span>       </span>
<span id="cb25-29"><a href="#cb25-29" tabindex="-1"></a>    [<span class="dv">33</span>] scales_1.<span class="fl">2.1</span>       magick_2.<span class="fl">7.4</span>       jsonlite_1.<span class="fl">8.3</span>     systemfonts_1.<span class="fl">0.4</span> </span>
<span id="cb25-30"><a href="#cb25-30" tabindex="-1"></a>    [<span class="dv">37</span>] farver_2.<span class="fl">1.1</span>       textshaping_0.<span class="fl">3.6</span>  ggplot2_3.<span class="fl">4.1</span>      png_0<span class="fl">.1</span><span class="dv">-7</span>         </span>
<span id="cb25-31"><a href="#cb25-31" tabindex="-1"></a>    [<span class="dv">41</span>] digest_0.<span class="fl">6.30</span>      dplyr_1.<span class="fl">1.1</span>        grid_4.<span class="fl">2.2</span>         rprojroot_2.<span class="fl">0.3</span>   </span>
<span id="cb25-32"><a href="#cb25-32" tabindex="-1"></a>    [<span class="dv">45</span>] cowplot_1.<span class="fl">1.1</span>      here_1.<span class="fl">0.1</span>         cli_3.<span class="fl">4.1</span>          tools_4.<span class="fl">2.2</span>       </span>
<span id="cb25-33"><a href="#cb25-33" tabindex="-1"></a>    [<span class="dv">49</span>] magrittr_2.<span class="fl">0.3</span>     tibble_3.<span class="fl">2.1</span>       pkgconfig_2.<span class="fl">0.3</span>    Matrix_1<span class="fl">.5</span><span class="dv">-1</span>      </span>
<span id="cb25-34"><a href="#cb25-34" tabindex="-1"></a>    [<span class="dv">53</span>] data.table_1.<span class="fl">14.6</span>  rmarkdown_2<span class="fl">.21</span>     rstudioapi_0<span class="fl">.14</span>    R6_2.<span class="fl">5.1</span>          </span>
<span id="cb25-35"><a href="#cb25-35" tabindex="-1"></a>    [<span class="dv">57</span>] compiler_4.<span class="fl">2.2</span>    </span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.drieslab.com" class="external-link">Ruben Dries</a>, Jiaji George Chen, Natalie Del Rossi, <a href="https://labs.icahn.mssm.edu/yuanlab/" class="external-link">Guo-Cheng Yuan</a>, Matthew O’Brien, <a href="https://josschavezf.github.io" class="external-link">Joselyn C. Chávez-Fuentes</a>, Edward Ruiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
